@inject IConfiguration _configuration
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    string _lang = ViewBag.Lang ?? "az";
}
@model IEnumerable<Product>

@foreach (var product in Model)
{
    <div class="col">
        <a class="mahsulcard" asp-controller="Product" asp-action="Item" asp-route-_lang="@_lang" asp-route-slugurl="@product.SlugUrl.ToLower()" asp-route-urlid="@product.UrlId">
            <div class="mahsulcard-image">
                <img src="~/files/product/@product.SlugUrl/@product.ProductPhotos.FirstOrDefault(x => x.IsCover == true).PhotoUrl" alt="mahsulcard-image">
            </div>
            <p class="mahsul-name">@product.ProductLangs.FirstOrDefault(x => x.Lang.Code == _lang).Name
                @product.Category.CategoryLangs.FirstOrDefault(x => x.Lang.Code == _lang).Name
            </p>
            <p class="mahsul-content">@product.ProductLangs.FirstOrDefault(x => x.Lang.Code == _lang).Details </p>
        </a>
    </div>
}   